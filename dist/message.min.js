'use strict';(function(h,k){"object"===typeof exports&&"undefined"!==typeof module?module.exports=k:"function"===typeof define&&define.amd?define([],function(){return k(h)}):h.Qmsg=k(h)})(this,function(h){function k(){for(var a=p,b=0;b<arguments.length;++b)a+="-"+arguments[b];return a}function q(a){var b=this;b.settings=Object.assign({},g,a||{});b.id=n.instanceCount;a=(a=b.settings.timeout)&&0<=parseInt(a)?parseInt(a):g.timeout;b.timeout=a;b.settings.timeout=a;b.timer=null;a=document.createElement("div");
	var c=u[b.settings.type||"info"],e=k("content-"+b.settings.type||"info");e+=b.settings.showClose?" "+k("content-with-close"):"";var d=b.settings.content||"",f=u.close;f=b.settings.showClose?'<i class="qmsg-icon qmsg-icon-close">'+f+"</i>":"";var r=document.createElement("span");b.settings.html?r.innerHTML=d:r.innerText=d;a.innerHTML='<div class="qmsg-content">            <div class="'+e+'">                <i class="qmsg-icon">'+c+"</i>"+r.outerHTML+f+"</div>\t\t</div>";a.classList.add(k("item"));
	a.style.textAlign=b.settings.position;c=document.querySelector("."+p);c||(c=document.createElement("div"),c.classList.add(p),c.classList.add(k("wrapper")),c.classList.add(k("is-initialized")),document.body.appendChild(c));c.appendChild(a);b.$wrapper=c;b.$elem=a;v(b,"opening");b.settings.showClose&&a.querySelector(".qmsg-icon-close").addEventListener("click",function(){b.close()}.bind(a));a.addEventListener("animationend",function(w){var x=w.target;w.animationName===t.closing&&(clearInterval(this.timer),
		this.destroy());x.style.animationName=""}.bind(b));b.settings.autoClose&&(b.timer=setInterval(function(){this.timeout-=10;0>=this.timeout&&(clearInterval(this.timer),this.close())}.bind(b),10),b.$elem.addEventListener("mouseover",function(){clearInterval(this.timer)}.bind(b)),b.$elem.addEventListener("mouseout",function(){"closing"!==this.state&&(this.timer=setInterval(function(){this.timeout-=10;0>=this.timeout&&(clearInterval(this.timer),this.close())}.bind(b),10))}.bind(b)))}function v(a,b){b&&
t[b]&&(a.state=b,a.$elem.style.animationName=t[b])}function l(a,b){var c=Object.assign({},g);if(0===arguments.length)return c;if(a instanceof Object)return Object.assign(c,a);c.content=a.toString();return b instanceof Object?Object.assign(c,b):c}function m(a){a=a||{};var b=JSON.stringify(a),c=-1;for(f in this.oMsgs){var e=this.oMsgs[f];if(e.config===b){c=f;var d=e.inst;break}}if(0>c){if(this.instanceCount++,c={},c.id=this.instanceCount,c.config=b,d=new q(a),d.id=this.instanceCount,d.count="",c.inst=
	d,this.oMsgs[this.instanceCount]=c,a=this.oMsgs.length,b=this.maxNums,a>b){c=0;var f=this.oMsgs;for(c;c<a-b;c++)f[c]&&f[c].inst.settings.autoClose&&f[c].inst.close()}}else d.count=d.count?99<=d.count?d.count:d.count+1:2,a=d,b=k("count"),c=a.$elem.querySelector('[class^="qmsg-content-"]'),f=c.querySelector("."+b),f||(f=document.createElement("span"),f.classList.add(b),c.appendChild(f)),f.innerHTML=a.count,f.style.animationName="",f.style.animationName="MessageShake",a.timeout=a.settings.timeout||g.timeout;
	d.$elem.setAttribute("data-count",d.count);return d}"function"!=typeof Object.assign&&(Object.assign=function(a){if(null==a)throw new TypeError("Cannot convert undefined or null to object");a=Object(a);for(var b=1;b<arguments.length;b++){var c=arguments[b];if(null!=c)for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(a[e]=c[e])}return a});"classList"in document.documentElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){function a(c){return function(e){var d=b.className.split(/\s+/g),
		f=d.indexOf(e);c(d,f,e);b.className=d.join(" ")}}var b=this;return{add:a(function(c,e,d){~e||c.push(d)}),remove:a(function(c,e){~e&&c.splice(e,1)}),toggle:a(function(c,e,d){~e?c.splice(e,1):c.push(d)}),contains:function(c){return!!~b.className.split(/\s+/g).indexOf(c)},item:function(c){return b.className.split(/\s+/g)[c]||null}}}});var p=h&&h.QMSG_GLOBALS&&h.QMSG_GLOBALS.NAMESPACE||"qmsg",t={opening:"MessageMoveIn",done:"",closing:"MessageMoveOut"},g=Object.assign({position:"center",type:"info",showClose:!1,
		timeout:2500,animation:!0,autoClose:!0,content:"",onClose:null,maxNums:5,html:!1},h&&h.QMSG_GLOBALS&&h.QMSG_GLOBALS.DEFAULTS),u={info:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M512 64q190.016 4.992 316.512 131.488T960 512q-4.992 190.016-131.488 316.512T512 960q-190.016-4.992-316.512-131.488T64 512q4.992-190.016 131.488-316.512T512 64zm67.008 275.008q26.016 0 43.008-15.488t16.992-41.504-16.992-41.504-42.496-15.488-42.496 15.488-16.992 41.504 16.992 41.504 42.016 15.488zm12 360q0-6.016.992-16T592 664l-52.992 60.992q-8 8.992-16.512 14.016T508 742.016q-8.992-4-8-14.016l88-276.992q4.992-28-8.992-48t-44.992-24q-35.008.992-76.512 29.504t-72.512 72.512v15.008q-.992 10.016 0 19.008l52.992-60.992q8-8.992 16.512-14.016T468 437.024q10.016 4.992 7.008 16l-87.008 276q-7.008 24.992 7.008 44.512T444 800.032q50.016-.992 84-28.992t63.008-72z" fill="#909399"/></svg>',
		warning:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M512 64C264.64 64 64 264.64 64 512c0 247.424 200.64 448 448 448 247.488 0 448-200.576 448-448 0-247.36-200.512-448-448-448zm0 704c-26.432 0-48-21.504-48-48s21.568-48 48-48c26.624 0 48 21.504 48 48s-21.376 48-48 48zm48-240c0 26.56-21.376 48-48 48-26.432 0-48-21.44-48-48V304c0-26.56 21.568-48 48-48 26.624 0 48 21.44 48 48v224z" fill="#E6A23C"/></svg>',error:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M512 64C264.58 64 64 264.58 64 512s200.58 448 448 448 448-200.57 448-448S759.42 64 512 64zm158.39 561.14a32 32 0 1 1-45.25 45.26L512 557.26 398.86 670.4a32 32 0 0 1-45.25-45.26L466.75 512 353.61 398.86a32 32 0 0 1 45.25-45.25L512 466.74l113.14-113.13a32 32 0 0 1 45.25 45.25L557.25 512z" fill="#F56C6C"/></svg>',
		success:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M512 64q190.016 4.992 316.512 131.488T960 512q-4.992 190.016-131.488 316.512T512 960q-190.016-4.992-316.512-131.488T64 512q4.992-190.016 131.488-316.512T512 64zm-56 536l-99.008-99.008q-12-11.008-27.488-11.008t-27.008 11.488-11.488 26.496 11.008 27.008l127.008 127.008q11.008 11.008 27.008 11.008t27.008-11.008l263.008-263.008q15.008-15.008 9.504-36.512t-27.008-27.008-36.512 9.504z" fill="#67C23A"/></svg>',
		loading:'<svg class="animate-turn" width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" fill-opacity=".01" d="M0 0h48v48H0z"/><path d="M4 24c0 11.046 8.954 20 20 20s20-8.954 20-20S35.046 4 24 4" stroke="#409eff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M36 24c0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12" stroke="#409eff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>',close:'<svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M14 14L34 34" stroke="#909399" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M14 34L34 14" stroke="#909399" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>'},
	y=function(){var a=document.createElement("div").style;return void 0!==a.animationName||void 0!==a.WebkitAnimationName||void 0!==a.MozAnimationName||void 0!==a.msAnimationName||void 0!==a.OAnimationName}();q.prototype.destroy=function(){this.$elem.parentNode&&this.$elem.parentNode.removeChild(this.$elem);clearInterval(this.timer);n.remove(this.id)};q.prototype.close=function(){v(this,"closing");y?n.remove(this.id):this.destroy();var a=this.settings.onClose;a&&a instanceof Function&&a.call(this)};
	var n={version:"0.0.1",instanceCount:0,oMsgs:[],maxNums:g.maxNums||5,config:function(a){g=a&&a instanceof Object?Object.assign(g,a):g;this.maxNums=g.maxNums&&0<g.maxNums?parseInt(g.maxNums):3},info:function(a,b){a=l(a,b);a.type="info";return m.call(this,a)},warning:function(a,b){a=l(a,b);a.type="warning";return m.call(this,a)},success:function(a,b){a=l(a,b);a.type="success";return m.call(this,a)},error:function(a,b){a=l(a,b);a.type="error";return m.call(this,a)},loading:function(a,b){a=l(a,b);a.type=
			"loading";a.autoClose=!1;return m.call(this,a)},remove:function(a){this.oMsgs[a]&&delete this.oMsgs[a]},closeAll:function(){for(var a in this.oMsgs)this.oMsgs[a]&&this.oMsgs[a].inst.close()}};return n});
